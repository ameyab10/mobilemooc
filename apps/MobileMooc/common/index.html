<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<title>index</title>
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0">
<link rel="shortcut icon" href="images/favicon.png">
<link rel="apple-touch-icon" href="images/apple-touch-icon.png">
<link rel="stylesheet" href="css/main.css">
<link rel="stylesheet" href="css/jquery.mobile-1.4.2.css" />
<script src="js/jquery-1.11.0.js"></script>
<script src="js/jquery.mobile-1.4.2.js"></script>

</head>
<body>
	<div data-role="page" id="home">
		<!-- id="home" data-theme="c" -->
		<div data-role="header">
			<h1>Course List</h1>
		</div>
		<div data-role="content">
			<ul id="coursesList" data-role="listview" data-filter="true"
				data-filter-placeholder="Search Courses..." data-inset="true">
				<li id="listitem"><a href="#courseDetails"
					onclick="getCourseDetails('5358b52375be840200ed5c76')" id="item">Item</a></li>
			</ul>
		</div>
		<div data-role="footer"></div>
		<script src="js/initOptions.js"></script>
		<script src="js/main.js"></script>
		<script src="js/messages.js"></script>
		<script>
			$(document).ready(function() {
				$.ajax({

					type : "GET",
					url : "http://mobile-mooc.herokuapp.com/api/courses",
					dataType : "json",
					// work with the response
					success : function(response) {
						console.log(response);
					//	alert('success');
						onRetrieve(response);
					},
					error : function(response) {
						console.log(response);
						alert('error');
					//	onRetrieve(response);
					}
				});
			});
		</script>

		<script>
			function onRetrieve(courseList) {
			
				var listItemHTML = [];
    			$.each(courseList, function(index, value){
    			listItemHTML[index] = "<a href='#courseDetails' onclick=getCourseDetails('"+value["_id"]+"')  data-id='"+value["_id"]+"'><img src='"+value["images"].img_100x100+"' width='80px' height='80px'></img>"+ value["title"] +"</a>"
    				});
    				displayCourseList(listItemHTML);
    			}
    	
    			function displayCourseList(courseList){

    					for(var i=0;i<courseList.length;i++){
    						$("<li/>").appendTo("#coursesList").html(courseList[i]);
    						$("#coursesList").listview('refresh');
    					}
    					}	
    					</script>

	</div>
	<!-- /page -->


	<div data-role="page" id="courseDetails">
		<div data-role="header">
			<h1>Course Details</h1>
		</div>




		<div data-role="content" id="pageContent">
			<label id="courseTitle" style="text-align: center">Raising
				Money for Startups <a id="courseLink"
				href="https://www.udemy.com/raising-capital-for-startups/"></a>
			</label> <img id="courseImage" style="width: 100%" height="200"
				src="https://udemyimages-a.akamaihd.net/course/200_H/anonymous_v2.jpg" />

			<label id="courseDescription"
				style="font-family: Apple LiSung; background-color: silver;">7
				top founders and CEOs explain how to raise money for your startup!</label>
		</div>


		<div data-role="content" id="pageContent0">


			<div class="ui-grid-a">
				<div class="ui-block-a" style="test-align: top">
					<img id="profImage" height="80" width="80"
						src="https://udemyimages-a.akamaihd.net/user/100x100/anonymous.jpg" />

				</div>
				<div class="ui-block-b" id="profName">Dave McClure</div>
			</div>
			<div class="ui-grid-a">
				<div class="ui-block-a">No of Lectures</div>
				<div class="ui-block-b" id="lectureNo">10</div>
			</div>
			<div class="ui-grid-a">
				<div class="ui-block-a">No of Subscribers</div>
				<div class="ui-block-b" id="subscriberNo">Dave McClure</div>
			</div>
			<div>
				<ul id="contentList" data-role="listview" data-filter="true"
					data-filter-placeholder="Search Content" data-inset="true">
					<li id="contentTitle"><a href="" id="item0">Item</a></li>
					<li id="contentDescription"><a href="" id="item1">Item</a></li>
					<li id="videoPage"><a href="#coursevideos" id="viewlectures">View Lectures</a></li>
				</ul>
			</div>

			<!-- 	<!-- 		<video style="padding-top: 20px" width="auto" height="200" controls>
				<source id="courseVideo"
					src="https://sknowbucket-a.akamaihd.net/2010-11-23_02-06-27-9e4db5fbf0f9bd8b915f1851bdafe4c2/WebHD.mp4?__gda__=1398338107_eba2fcbe275db7beb71677b9802bac20&filedownload=attachment%3Bfilename%3Ddeveloper-dashboard.wmv"
					>
 					 Your browser does not support the video tag.			</source>
			</video> 
			<video webkit-playsinline width="auto" height="200">
				<source src="http://d396qusza40orc.cloudfront.net/android/recoded_videos%2FIntroduction%20to%20the%20Android%20Platform.7628141076f511e3a34459ea3c3b9e08.webm" type="video/mp4"
				type='video/webm' ></source>
			</video>

			<div data-role="popup" id="popupVideo" data-overlay-theme="a"
				data-theme="d" data-tolerance="15,15" class="ui-content">
				<iframe src="http://d396qusza40orc.cloudfront.net/android/recoded_videos%2FIntroduction%20to%20the%20Android%20Platform.7628141076f511e3a34459ea3c3b9e08.webm" width="497"
					height="298" seamless></iframe>
			</div>
 -->

			<iframe id="player" type="text/html" width="300" height="200"
				src="https://www.youtube.com/embed/UQg2Ps3p0_Y"></iframe>

			<iframe id="player" type="text/html" width="300" height="200"
				src="http://www.youtube.com/embed/KkMDCCdjyW8"></iframe>



			<div data-role="navbar" id="navbar">
				<ul>
					<li><a href="#home" id="home">Home</a></li>
					<li><a href="#" id="Drop">Drop</a></li>
					<li><a href="#" id="Add"
						onclick="getCourseDetails('5358b52375be840200ed5c76')">Add </a></li>
				</ul>
			</div>


		</div>


		<script src="js/initOptions.js"></script>
		<script src="js/main.js"></script>
		<script src="js/messages.js"></script>
		<script>
		function getCourseDetails(courseID){
						$.ajax({

					type : "GET",
					//url : "http://mobile-mooc.herokuapp.com/api/courses/5358b72c75be840200ed5c77",
					//url : "http://mobile-mooc.herokuapp.com/api/courses/5358b52375be840200ed5c76",
					url : "http://mobile-mooc.herokuapp.com/api/courses/"+courseID,
					dataType : "json",
					// work with the response
					success : function(response) {
						console.log(response);
					//	alert('success');
						populateCourseData(response);
					},
					error : function(response) {
						console.log(response);
						alert('error');
					//	onRetrieve(response);
					}
				});
		
		}
		
		function populateCourseData(courseData){
		
			$('#courseTitle').text(courseData.title);
			$('#courseDescription').text(courseData.headline);
			$('#courseImage').attr("src", courseData.images.img_200_H);
			$('#courseLink').text(courseData.url);
			$('#profName').text(courseData.owner.title);
			$('#profImage').attr("src", courseData.owner.images.img_100x100);
			$('#lectureNo').text(courseData.numLectures);
			$('#subscriberNo').text(courseData.numSubscribers);
			$('#contentTitle').text(courseData.promoAsset.title);
			$('#contentDescription').text(courseData.promoAsset.description);
			$('#courseVideo').attr("src", courseData.promoAsset.streamUrl);			
				
			var vid1 = "loadVideo('"+courseData.coursevideos.video1+"')";
			$('#video1').text(courseData.coursevideos.title1);
			$('#video1').attr("onclick",vid1);
			
			var vid2 = "loadVideo('"+courseData.coursevideos.video2+"')";
			$('#video2').text(courseData.coursevideos.title2);
			$('#video2').attr("onclick",vid2);
			
			var vid3 = "loadVideo('"+courseData.coursevideos.video3+"')";
			$('#video3').text(courseData.coursevideos.title3);
			$('#video3').attr("onclick",vid3);
			
			var vid4 = "loadVideo('"+courseData.coursevideos.video4+"')";
			$('#video4').text(courseData.coursevideos.title4);
			$('#video4').attr("onclick",vid4);
				
			var vid5 = "loadVideo('"+courseData.coursevideos.video5+"')";
			$('#video5').text(courseData.coursevideos.title5);
			$('#video5').attr("onclick",vid5);
			
		}
		
		
		</script>



	</div>
	<!--End of page 2  -->
	<div data-role="page" id="coursevideos">
		<div data-role="header" id="header" data-position="fixed">
			<h3>Course Lectures</h3>
		</div>

		<div data-role="content" style="padding: 15px">
			<ul data-role="listview" id="listview" data-inset="true">
				<li data-role="list-divider" id="divider">Lectures</li>
				<li id="saa"><a href="#popupVideo" id ="video1" data-rel="popup" >Lecture 1</a></li>
				<li id="saa"><a href="#popupVideo" id ="video2" data-rel="popup" >Lecture 2</a></li>
				<li id="saa"><a href="#popupVideo" id ="video3" data-rel="popup" >Lecture 3</a></li>
				<li id="saa"><a href="#popupVideo" id ="video4" data-rel="popup" >Lecture 4</a></li>
				<li id="saa"><a href="#popupVideo" id ="video5" data-rel="popup" >Lecture 5</a></li>
			</ul>



			<a href="">Open Popup</a>

			<div data-role="popup" id="popupVideo" data-overlay-theme="a"
				data-theme="d" data-tolerance="15,15" class="ui-content">

					<iframe  id="videoFrame" src="" width="280"
					height="300" seamless></iframe> 
			
			</div>
			<!-- http://player.vimeo.com/video/41135183 -->

		</div>


		<div data-role="navbar" id="navbar">
			<ul>
				<li><a href="#home" id="home">Home</a></li>
				<li><a href="#" id="Drop">Drop</a></li>
				<li><a href="#" id="Add"
					onclick="getCourseDetails('5358b52375be840200ed5c76')">Add </a></li>
			</ul>
		</div>
		
		<script src="js/initOptions.js"></script>
		<script src="js/main.js"></script>
		<script src="js/messages.js"></script>
		<script>
		
		function loadVideo(videoUrl){
		
		$('#videoFrame').attr("src", videoUrl);
		
		}
		
		
		</script>
		
		
	</div>
	<!--End of Page 3 Video Lectures  -->
</body>
</html>